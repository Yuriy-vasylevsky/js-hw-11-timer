{"version":3,"sources":["index.js"],"names":["refs","startBtn","document","querySelector","stopBtn","clockface","body","descr","clockfaceDays","clockfaceHours","clockfaceMins","clockfaceSecs","clockfaceDay","console","log","Timer","constructor","onTick","targetDate","intervalid","isActive","init","time","getTimeComponents","start","startTime","setInterval","currentTime","Date","now","deltatime","classList","add","remove","stop","clearInterval","pad","value","String","padStart","days","Math","floor","hours","mins","sec","timer2","selector","updateClockface","textContent","addEventListener","bind"],"mappings":";;;AAkGC,aAlGD,QAAA,oBAEA,MAAMA,EAAO,CACXC,SAAUC,SAASC,cAAc,6BACjCC,QAASF,SAASC,cAAc,4BAChCE,UAAWH,SAASC,cAAc,iBAClCG,KAAMJ,SAASC,cAAc,QAC7BI,MAAOL,SAASC,cAAc,UAE9BK,cAAeN,SAASC,cAAc,2BACtCM,eAAgBP,SAASC,cAAc,4BACvCO,cAAeR,SAASC,cAAc,2BACtCQ,cAAeT,SAASC,cAAc,4BAGxCH,EAAKY,aACLC,QAAQC,IAAId,EAAKY,cAEjB,MAAMG,EACJC,aAAa,OAACC,EAAD,WAASC,IACfC,KAAAA,WAAa,KACbC,KAAAA,UAAW,EACXH,KAAAA,OAASA,EACTC,KAAAA,WAAaA,EACbG,KAAAA,OACLR,QAAQC,IAAI,KAAKI,YAInBG,OACQC,MAAAA,EAAO,KAAKC,kBAAkB,GAC/BN,KAAAA,OAAOK,GAGdE,QAEM,GAAA,KAAKJ,SACP,OAIIK,MAAAA,EAAY,KAAKP,WAClBE,KAAAA,UAAW,EACXD,KAAAA,WAAaO,YAAY,KACvBN,KAAAA,UAAW,EACVO,MAAAA,EAAcC,KAAKC,MACnBC,EAAYL,EAAYE,EACxBL,EAAO,KAAKC,kBAAkBO,GACpCjB,QAAQC,IAAIQ,GACPL,KAAAA,OAAOK,GAGZtB,EAAKM,KAAKyB,UAAUC,IAAI,OACxBhC,EAAKO,MAAMwB,UAAUE,OAAO,WAC5B,KAGJC,OACEC,cAAc,KAAKhB,YACdC,KAAAA,UAAW,EACVE,MAAAA,EAAO,KAAKC,kBAAkB,GAC/BN,KAAAA,OAAOK,GAGdc,IAAIC,GACKC,OAAAA,OAAOD,GAAOE,SAAS,EAAG,KAGnChB,kBAAmBD,GAKV,MAAA,CAACkB,KAJK,KAAKJ,IAAIK,KAAKC,MAAMpB,EAAQ,QAI3BqB,MAHA,KAAKP,IAAIK,KAAKC,MAAOpB,EAAQ,MAAwB,OAG9CsB,KAFR,KAAKR,IAAIK,KAAKC,MAAOpB,EAAQ,KAAoB,MAEnCuB,IADf,KAAKT,IAAIK,KAAKC,MAAOpB,EAAQ,IAAc,QAU3D,MAAMwB,EAAS,IAAI/B,EAAM,CACrBgC,SAAU,WACV7B,WAAY,IAAIU,KAAK,wBACrBX,OAAQ+B,IAMZ,SAASA,GAAgB,KAACR,EAAD,MAAOG,EAAP,KAAcC,EAAd,IAAoBC,IAE3C7C,EAAKQ,cAAcyC,eAAiBT,IACpCxC,EAAKS,eAAewC,eAAiBN,IACrC3C,EAAKU,cAAcuC,eAAiBL,IACpC5C,EAAKW,cAAcsC,eAAiBJ,IARtC7C,EAAKC,SAASiD,iBAAiB,QAASJ,EAAOtB,MAAM2B,KAAKL,IAC1D9C,EAAKI,QAAQ8C,iBAAiB,QAASJ,EAAOZ,KAAKiB,KAAKL","file":"src.7dcfa45c.js","sourceRoot":"../src","sourcesContent":["import './sass/main.scss';\n\nconst refs = {\n  startBtn: document.querySelector('button[data-action-start]'),\n  stopBtn: document.querySelector('button[data-action-stop]'),\n  clockface: document.querySelector('.js-clockface'),\n  body: document.querySelector('body'),\n  descr: document.querySelector('.descr'),\n\n  clockfaceDays: document.querySelector('span[data-value=\"days\"]'),\n  clockfaceHours: document.querySelector('span[data-value=\"hours\"]'),\n  clockfaceMins: document.querySelector('span[data-value=\"mins\"]'),\n  clockfaceSecs: document.querySelector('span[data-value=\"secs\"]'),\n};\n\nrefs.clockfaceDay\nconsole.log(refs.clockfaceDay)\n\nclass Timer {\n  constructor ({onTick, targetDate}) {\n    this.intervalid = null;\n    this.isActive = false;\n    this.onTick = onTick;\n    this.targetDate = targetDate;\n    this.init();\n    console.log(this.targetDate)\n  }\n    \n\n  init() {\n    const time = this.getTimeComponents(0)\n    this.onTick(time)\n  }\n\n  start() {\n\n    if (this.isActive) {\n      return\n    }\n\n    // const startTime = Date.now();\n    const startTime = this.targetDate;\n    this.isActive = true\n    this.intervalid = setInterval(() =>{\n      this.isActive = true\n      const currentTime = Date.now();\n      const deltatime = startTime - currentTime;\n      const time = this.getTimeComponents(deltatime)\n      console.log(time)\n      this.onTick(time)\n      // updateClockface(time)\n      // console.log(`${days} : ${hours} : ${mins} : ${sec}`)\n      refs.body.classList.add('img')\n      refs.descr.classList.remove('descr2')\n    },1000); \n  }\n\n  stop() {\n    clearInterval(this.intervalid)\n    this.isActive = false\n    const time = this.getTimeComponents(0)\n    this.onTick(time)\n  }\n\n  pad(value) {\n    return String(value).padStart(2, '0')\n  }\n\n  getTimeComponents (time) {\n    const days = this.pad(Math.floor(time / (1000 * 60 * 60 * 24)));\n    const hours = this.pad(Math.floor((time % (1000 * 60 *60 * 24)) / (1000 * 60 *60)));\n    const mins = this.pad(Math.floor((time % (1000 * 60 * 60)) / (1000 * 60)));\n    const sec = this.pad(Math.floor((time % (1000 * 60)) / 1000));\n    return {days, hours, mins, sec};\n  }\n}\n\n\n// const timer = new Timer({\n//   onTick: updateClockface,\n// })\n\nconst timer2 = new Timer({\n    selector: '#timer-1',\n    targetDate: new Date('Sept 17, 2021, 20:00'),\n    onTick: updateClockface,\n});\n\nrefs.startBtn.addEventListener('click', timer2.start.bind(timer2));\nrefs.stopBtn.addEventListener('click', timer2.stop.bind(timer2));\n\nfunction updateClockface({days, hours, mins, sec}) {\n  // refs.clockface.textContent = `${days} :  :  : `; \n  refs.clockfaceDays.textContent = `${days}`;\n  refs.clockfaceHours.textContent = `${hours}`;\n  refs.clockfaceMins.textContent = `${mins}`;\n  refs.clockfaceSecs.textContent = `${sec}`;\n\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"]}